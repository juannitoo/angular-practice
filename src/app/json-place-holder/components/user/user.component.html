<mat-accordion>

  <mat-expansion-panel (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false"
                       *ngIf="user"
                       [ngClass]="{ 'opened': panelOpenState === true}">

    <mat-expansion-panel-header>
        <mat-panel-title class="bold">
          {{ user.id }}
        </mat-panel-title>
        <mat-panel-description class="bold" title="Nom">
          {{ user.name }}       
        </mat-panel-description>
        <mat-panel-description class="bold" title="Pseudo"
          *ngIf="!isSmartPhone">
          {{ user.username }}       
        </mat-panel-description>
        <mat-icon id="icone">account_circle</mat-icon>    
    </mat-expansion-panel-header>

    <!-- I'm visible because I am open -->
    <article class="details">
      <p *ngIf="user.email" class="box">   
        <span class="intitule">Email :</span>          
        {{ user.email }}
      </p>
      <p *ngIf="user.address" class="box"> 
        <span class="intitule">Ville :</span>          
        {{ user.address.city }}
      </p>
      <p *ngIf="user.phone" class="box">   
        <span class="intitule">Tel :</span>            
        {{ user.phone }}
      </p>
      <p *ngIf="user.website" class="box"> 
        <span class="intitule">Site Internet :</span>  
        {{ user.website }}
      </p>
      <p *ngIf="user.company" class="box"> 
        <span class="intitule">Entreprise :</span>     
        {{ user.company.name }}
      </p>
      <p>
        <span class="margin-left actions" >
          <button type="button" mat-raised-button id="btn-update" 
            (click)="showUser(user.id)">
            <mat-icon>edit</mat-icon> Modifier
          </button>
        </span>

        <span class="actions">
          <button type="button" mat-raised-button 
            id="btn-delete" (click)="onDelUser(user.id)">
            <mat-icon>delete</mat-icon> Supprimer
          </button>
        </span>
        
      </p>
    </article>
    
  </mat-expansion-panel>

</mat-accordion>
